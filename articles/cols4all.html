<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>cols4all: introduction • cols4all</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="cols4all: introduction">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cols4all</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7-2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/cols4all.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mtennekes/cols4all/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>cols4all: introduction</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mtennekes/cols4all/blob/main/vignettes/cols4all.Rmd" class="external-link"><code>vignettes/cols4all.Rmd</code></a></small>
      <div class="d-none name"><code>cols4all.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Color is essential in many charts and maps. There are a lot of color
palettes to choose from: most visualization software tools have their
own palettes and there are many other series of color palettes, such as
ColorBrewer (Harrower and Brewer, 2003). To make life easier for R
users, there are a couple of packages that contain a large collection of
palettes, most notably <code>pals</code> (Wright, 2021) with 139 and
<code>paletteer</code> (Hvitfeldt, 2021) with 2569 (!) palettes.
However, people often cannot see the trees through the forest, so
therefore they tend to stick with the color palettes they know, or with
the most popular ones.</p>
<p>The <code>cols4all</code> package also contains a large collection of
palettes (to be precise 473 at the time of writing), but with the
central question: <strong>which palettes are good and why?</strong>
There is no simple answer, since there are many aspects to take into
account, which may have opposite effects. In <code>cols4all</code> we
examine the following aspects:</p>
<ul>
<li><p><strong>Color Blind Friendliness</strong> First and most
importantly, is a palette suitable for colorblind people? About 1 out of
12 humans have a color vision deficiency, and we want to include them;
hence the package name “colors for all”.</p></li>
<li><p><strong>HCL Analysis</strong> Does a palette work well for
statistical purposes? We analyse this with the HCL
(hue-chroma-luminance) color space. Concrete questions for these
analysis are the following. How <strong>vivid</strong> are colors? Do
the colors stand out about equally (which we call
<strong>fairness</strong>)? What hue ranges are used for quantitative
color palettes?</p></li>
</ul>
<!--First of all, we check how vivid (chroma) the colors are: vivid colors are preferable for coloring small objects (dots) while pastel colors are preferable for large areas such as maps. Secondly, we also check whether the palette is fair, by which we mean that no colors stand out more than others. Finally, we check the hues of the palettes:--><ul>
<li><p><strong>Nameability</strong> (in development) Easy to name colors
are also easy to remember. Therefore, it is beneficial to use a color
palette with easy nameable colors.</p></li>
<li><p><strong>Contrast</strong> What is the contrast between the colors
in the palette? We focus on two specific questions: 1) Is there
sufficient contrast with the background color (usually white or black)?
This is especially needed for text but also point- and line charts. 2)
Are border lines needed to separate colors?</p></li>
<li><p><strong>3D Blues</strong> Does the palette contain blue colors
that could result in a floating effect?</p></li>
</ul>
<p>Currently, <strong>cols4all</strong> contains palettes from several
popular and lesser known color palette series: “brewer”, “c4a”, “carto”,
“hcl”, “kovesi”, “met”, “miscs”, “parks”, “poly”, “scico”, “seaborn”,
“stevens”, “tableau”, “tol”, “viridis” , and “wes”. Stand-alone palettes
that are included have been put in the series “misc” (miscellaneous).
Own palettes series can be added as well.</p>
<p>Color palettes are organized and made consistent with each other. For
instance, all sequential palettes go from light to dark. Furthermore,
for each color palette a color for missing values is assigned, which is
especially important for spatial data visualization. Currently we
support several types: <em>categorical</em> (qualitative) palettes,
<em>sequential</em> palettes, <em>diverging</em> palettes, and
<em>bivariate</em> palettes (divided into four subtypes).</p>
<p><img src="dash-3.png" alt="Dashboard" width="650"></p>
<p>The figure above shows the main tool of this package, a dashboard.
The first tab page contains an overview table of all palettes (given the
input selection criteria). The other tab pages are for further
palette-wise analyses.</p>
<p>Color palettes also are important in areas other than data
visualization, such as arts, web design, and fashion. The same aspects
apply as well here, but obviously different criteria apply: the colors
of a dress don’t have to be distinguished by colorblind people, websites
often contain colors that purposely stand out more than others, and
there are paintings that purposely use visual illusions.</p>
</div>
<div class="section level2">
<h2 id="related-r-packages">Related R packages<a class="anchor" aria-label="anchor" href="#related-r-packages"></a>
</h2>
<p>The foundation of this package is another R package: <a href="https://colorspace.r-forge.r-project.org/" class="external-link"><strong>colorspace</strong></a>.
We use this package to analyse colors. For this purpose and specifically
for color blind friendliness checks, we additionally use <a href="https://github.com/Nowosad/colorblindcheck" class="external-link"><strong>colorblindcheck</strong></a>.</p>
<p>There are a few other pacakges with a large collection of color
palettes, in particular <a href="https://kwstat.github.io/pals/" class="external-link"><strong>pals</strong></a> and <a href="https://github.com/EmilHvitfeldt/paletteer" class="external-link"><strong>paletteer</strong></a>.
There are a few features that distinguishes <strong>cols4all</strong>
from those packages:</p>
<ul>
<li><p>Color palettes are characterized and analysed. Properties such as
color blindness, fairness (whether colors stand out about equally), and
contrast are determined for each palette.</p></li>
<li><p>Bivariate color palettes are available (besides the three main
palette types: categorical, sequential, and diverging).</p></li>
<li><p>Own color palettes can be loaded and analysed.</p></li>
<li><p>Color for missing values are made explicit.</p></li>
<li><p>Palettes are made consistent with each other to enable
comparison. For instance, black and white are (by default) removed from
categorical palettes. Another standard that we adapt to is that all
sequential palettes go from light to dark and not the other way
round.</p></li>
<li><p>There is native support for <strong>ggplot2</strong> and
<strong>tmap</strong> (as of the upcoming version 4).</p></li>
<li><p>There are a couple of exporting options, including (bibtex)
citation.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="using-cols4all">Using cols4all<a class="anchor" aria-label="anchor" href="#using-cols4all"></a>
</h2>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>The <code>cols4all</code> is available on CRAN and can be installed
as follows</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"cols4all"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The latest development version can be installed as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"mtennekes/cols4all"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h3>
<p>Load the package:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mtennekes.github.io/cols4all/">cols4all</a></span><span class="op">)</span></span></code></pre></div>
<p>The main tool is a dashboard (shown above), which is started
with:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/c4a_gui.html">c4a_gui</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>What types and series are available?</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/c4a_palettes.html">c4a_types</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   type                          description</span></span>
<span><span class="co">#&gt; 1  cat                          categorical</span></span>
<span><span class="co">#&gt; 2  seq                           sequential</span></span>
<span><span class="co">#&gt; 3  div                            diverging</span></span>
<span><span class="co">#&gt; 4 bivs  bivariate (sequential x sequential)</span></span>
<span><span class="co">#&gt; 5 bivc bivariate (sequential x categorical)</span></span>
<span><span class="co">#&gt; 6 bivd   bivariate (sequential x diverging)</span></span>
<span><span class="co">#&gt; 7 bivg bivariate (sequential x desaturated)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/c4a_palettes.html">c4a_series</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;     series                                         description</span></span>
<span><span class="co">#&gt; 1   brewer                                ColorBrewer palettes</span></span>
<span><span class="co">#&gt; 2      c4a                  cols4all palettes (in development)</span></span>
<span><span class="co">#&gt; 3    carto                          Palettes designed by CARTO</span></span>
<span><span class="co">#&gt; 4      hcl  Palettes from the Hue Chroma Luminance color space</span></span>
<span><span class="co">#&gt; 5   kovesi                   Palettes designed by Peter Kovesi</span></span>
<span><span class="co">#&gt; 6      met Palettes inspired by The Metropolitan Museum of Art</span></span>
<span><span class="co">#&gt; 7     misc                              Miscellaneous palettes</span></span>
<span><span class="co">#&gt; 8    miscs                                                &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 9    parks                 Palettes inspired by National Parks</span></span>
<span><span class="co">#&gt; 10    poly               Qualitative palettes with many colors</span></span>
<span><span class="co">#&gt; 11   scico     Scientific colour map palettes by Fabio Crameri</span></span>
<span><span class="co">#&gt; 12 seaborn            Palettes from the Python library Seaborn</span></span>
<span><span class="co">#&gt; 13 stevens                Bivariate palettes by Joshua Stevens</span></span>
<span><span class="co">#&gt; 14 tableau                        Palettes designed by Tableau</span></span>
<span><span class="co">#&gt; 15     tol                       Palettes designed by Paul Tol</span></span>
<span><span class="co">#&gt; 16 viridis          Palettes fom the Python library matplotlib</span></span>
<span><span class="co">#&gt; 17     wes                   Palettes from Wes Anderson movies</span></span></code></pre></div>
<p>How many palettes per type x series?</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/c4a_palettes.html">c4a_overview</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;     series                                         description cat seq div bivs</span></span>
<span><span class="co">#&gt; 1   brewer                                ColorBrewer palettes   8  18   9    2</span></span>
<span><span class="co">#&gt; 2      c4a                  cols4all palettes (in development)   9  NA   2    2</span></span>
<span><span class="co">#&gt; 3    carto                          Palettes designed by CARTO   6  21   7   NA</span></span>
<span><span class="co">#&gt; 4      hcl  Palettes from the Hue Chroma Luminance color space   9  23  11   NA</span></span>
<span><span class="co">#&gt; 5   kovesi                   Palettes designed by Peter Kovesi  NA  17  13   NA</span></span>
<span><span class="co">#&gt; 6      met Palettes inspired by The Metropolitan Museum of Art  33   8  14   NA</span></span>
<span><span class="co">#&gt; 7     misc                              Miscellaneous palettes   1  NA  NA   NA</span></span>
<span><span class="co">#&gt; 8    miscs                                                       4  NA  NA   NA</span></span>
<span><span class="co">#&gt; 9    parks                 Palettes inspired by National Parks  22   5   3   NA</span></span>
<span><span class="co">#&gt; 10    poly               Qualitative palettes with many colors   9  NA  NA   NA</span></span>
<span><span class="co">#&gt; 11   scico     Scientific colour map palettes by Fabio Crameri  21  21  10   NA</span></span>
<span><span class="co">#&gt; 12 seaborn            Palettes from the Python library Seaborn   6   4   2   NA</span></span>
<span><span class="co">#&gt; 13 stevens                Bivariate palettes by Joshua Stevens  NA  NA  NA    5</span></span>
<span><span class="co">#&gt; 14 tableau                        Palettes designed by Tableau  29  23  28   NA</span></span>
<span><span class="co">#&gt; 15     tol                       Palettes designed by Paul Tol   8   8   4   NA</span></span>
<span><span class="co">#&gt; 16 viridis          Palettes fom the Python library matplotlib  NA   7   1   NA</span></span>
<span><span class="co">#&gt; 17     wes                   Palettes from Wes Anderson movies  23  NA   1   NA</span></span>
<span><span class="co">#&gt;    bivc bivd bivg</span></span>
<span><span class="co">#&gt; 1     1    1   NA</span></span>
<span><span class="co">#&gt; 2    NA    2    5</span></span>
<span><span class="co">#&gt; 3    NA   NA   NA</span></span>
<span><span class="co">#&gt; 4    NA   NA   NA</span></span>
<span><span class="co">#&gt; 5    NA   NA   NA</span></span>
<span><span class="co">#&gt; 6     1   NA   NA</span></span>
<span><span class="co">#&gt; 7     3   NA   NA</span></span>
<span><span class="co">#&gt; 8    NA   NA   NA</span></span>
<span><span class="co">#&gt; 9    NA   NA   NA</span></span>
<span><span class="co">#&gt; 10   NA   NA   NA</span></span>
<span><span class="co">#&gt; 11    2   NA    1</span></span>
<span><span class="co">#&gt; 12   NA   NA   NA</span></span>
<span><span class="co">#&gt; 13   NA   NA   NA</span></span>
<span><span class="co">#&gt; 14   NA   NA   NA</span></span>
<span><span class="co">#&gt; 15   NA   NA   NA</span></span>
<span><span class="co">#&gt; 16   NA   NA   NA</span></span>
<span><span class="co">#&gt; 17   NA   NA   NA</span></span></code></pre></div>
<p>What palettes are available, e.g diverging from the hcl series?</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Diverging palettes from the 'hcl' series</span></span>
<span><span class="fu"><a href="../reference/c4a_palettes.html">c4a_palettes</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"div"</span>, series <span class="op">=</span> <span class="st">"hcl"</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "hcl.blue_red"     "hcl.blue_red2"    "hcl.blue_red3"    "hcl.red_green"   </span></span>
<span><span class="co">#&gt;  [5] "hcl.purple_green" "hcl.purple_brown" "hcl.green_brown"  "hcl.blue_yellow2"</span></span>
<span><span class="co">#&gt;  [9] "hcl.blue_yellow3" "hcl.green_orange" "hcl.cyan_magenta"</span></span></code></pre></div>
<p>Give me the colors!</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># select purple green palette from the hcl series:</span></span>
<span><span class="fu"><a href="../reference/c4a.html">c4a</a></span><span class="op">(</span><span class="st">"hcl.purple_green"</span>, <span class="fl">11</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "#492050" "#82498C" "#B574C2" "#D2A9DB" "#E8D4ED" "#F1F1F1" "#C8E1C9"</span></span>
<span><span class="co">#&gt;  [8] "#91C392" "#4E9D4F" "#256C26" "#023903"</span></span>
<span></span>
<span><span class="co"># get the associated color for missing values</span></span>
<span><span class="fu"><a href="../reference/c4a.html">c4a_na</a></span><span class="op">(</span><span class="st">"hcl.purple_green"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "#868686"</span></span></code></pre></div>
<p>Plot these colors:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/c4a_plot.html">c4a_plot</a></span><span class="op">(</span><span class="st">"hcl.purple_green"</span>, <span class="fl">11</span>, include.na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="cols4all_files/figure-html/unnamed-chunk-11-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="using-cols4all-palettes-in-ggplot2">Using cols4all palettes in ggplot2<a class="anchor" aria-label="anchor" href="#using-cols4all-palettes-in-ggplot2"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"diamonds"</span><span class="op">)</span></span>
<span><span class="va">diam_exp</span> <span class="op">=</span> <span class="va">diamonds</span><span class="op">[</span><span class="va">diamonds</span><span class="op">$</span><span class="va">price</span> <span class="op">&gt;=</span> <span class="fl">15000</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># discrete categorical scale</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">diam_exp</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">carat</span>, y <span class="op">=</span> <span class="va">price</span>, color <span class="op">=</span> <span class="va">color</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/scales_ggplot2.html">scale_color_discrete_c4a_cat</a></span><span class="op">(</span><span class="st">"carto.safe"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_light</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="cols4all_files/figure-html/unnamed-chunk-12-1.png" width="576"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># continuous diverging scale</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">diam_exp</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">carat</span>, y <span class="op">=</span> <span class="va">depth</span>, color <span class="op">=</span> <span class="va">price</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/scales_ggplot2.html">scale_color_continuous_c4a_div</a></span><span class="op">(</span><span class="st">"wes.zissou1"</span>, mid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">diam_exp</span><span class="op">$</span><span class="va">price</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_light</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="cols4all_files/figure-html/unnamed-chunk-12-2.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="overview-of-functions">Overview of functions<a class="anchor" aria-label="anchor" href="#overview-of-functions"></a>
</h3>
<p>Main functions:</p>
<ul>
<li>
<code>c4a_gui</code> Dashboard for analyzing the palettes</li>
<li>
<code>c4a</code> Get the colors from a palette (<code>c4a_na</code>
for the associated color for missing values)</li>
<li>
<code>c4a_plot</code> Plot a color palette</li>
</ul>
<p>Palette names and properties:</p>
<ul>
<li>
<code>c4a_palettes</code> Get available palette names</li>
<li>
<code>c4a_series</code> Get available series names</li>
<li>
<code>c4a_types</code> Get implemented types</li>
<li>
<code>c4a_overview</code> Get an overview of palettes per series x
type.</li>
<li>
<code>c4a_citation</code> Show how to cite palettes (with bibtex
code).</li>
<li>
<code>c4a_info</code> Get information from a palette, such as type
and maximum number of colors</li>
<li>
<code>.P</code> Environment via which palette names can be browsed
with auto-completion (using <code>$</code>)</li>
</ul>
<p>Importing and exporting palettes:</p>
<ul>
<li>
<code>c4a_data</code> Build color palette data</li>
<li>
<code>c4a_load</code> Load color palette data</li>
<li>
<code>c4a_sysdata_import</code> Import system data</li>
<li>
<code>c4a_sysdata_export</code> Export system data</li>
</ul>
<p>Edit color palette data</p>
<ul>
<li>
<code>c4a_duplicate</code> Duplicates a color palette</li>
<li>
<code>c4a_modify</code> Modifies palette colors</li>
</ul>
<p>ggplot2</p>
<ul>
<li>
<code>scale_&lt;aesthetic&gt;_&lt;mapping&gt;_c4a_&lt;type&gt;</code>
e.g. <code>scale_color_continuous_c4a_div</code> Add scale to
ggplot2.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="color-spaces">Color spaces<a class="anchor" aria-label="anchor" href="#color-spaces"></a>
</h2>
<p>Visual perception, in particular colors, is complex. For the purpose
of information visualization it is explained in an accessible way by
Ware (2019). In this vignette, we briefly describe the color spaces that
are needed to understand the functionality of
<strong>cols4all</strong>.</p>
<p>The human eye has three types of cones (specific photoreceptor cells
in the retina), which are sensitive to light of different wavelengths:
long, medium, and short. Their peak sensitivities (of 565, 540, and
440nm respectively) correspond to the primary colors red, green, and
blue respectively. In computer graphics, a color is usually defined as
RGB, which is a mixture of those three primary colors. RGB colors are
often represented in hex-format (e.g. #FF00FF), where the first two
characters specify red, the third and fourth green and the last two
blue. Therefore #FF00FF is purple. A standard RGB space in computer
graphics is <em>sRGB</em> (which exactly defines the primary colors, the
white point, and a so-called gamma correction which is needed to
perceive a grayscale linearly).</p>
<p>To analyse color palettes, we also use the polarLUV color space,
which is a transformation of the CIELUV space. In this space, known as
<em>HCL</em>, a color is defined by three variables:</p>
<ul>
<li>
<strong>Hue</strong> The hue of a color is how we call casually name
colors: e.g. yellow, purple, blue, orange, etc. It is defined as a polar
coordinate, so takes values from 0 to 360 degrees.</li>
<li>
<strong>Chroma</strong> The vividness or intensity of the color. The
higher, the more colorful. The maximum chroma depends on the hue.
Grayscale colors have 0 chroma. The maximum value depends the hue and
luminance.</li>
<li>
<strong>Luminance</strong> The amount of light emitted from an
object (e.g. a computer screen). It is similar to <em>brightness</em>,
although the latter is a relative measure. It takes values from 0 to
100.</li>
</ul>
</div>
<div class="section level2">
<h2 id="indicators">Indicators<a class="anchor" aria-label="anchor" href="#indicators"></a>
</h2>
<div class="section level3">
<h3 id="colorblind-friendliness">Colorblind friendliness<a class="anchor" aria-label="anchor" href="#colorblind-friendliness"></a>
</h3>
<p>First of all, we use the distance measure between two colors A and B
from CIE as defined in 2000 (see Lindbloom, Bruce Justin. Delta E (CIE
2000).).</p>
<p>For simplicity, we apply two labels: colorblind friendly
<font size="4">☺</font> and colorblind unfriendly
<font size="4">👀</font>. A palette without such label is classified in
between. Our definition of these labels depend on the palette type:</p>
<ul>
<li>(<strong>categorical</strong>) The minimum distance metric
(<code>min_dist</code>) is the minimum distance between any two colors
for any color vision deficiency type.
<ul>
<li><p><font size="4">☺</font> (colorblind friendly):
<code>min_dist &gt;= 10</code></p></li>
<li>
<p><font size="4">👀</font> (colorblind unfriendly):
<code>min_dist &lt;= 2</code></p>
<p>These numbers are parameters that can be changed via
<code>c4a_options</code>.</p>
</li>
</ul>
</li>
<li>(<strong>sequential</strong>) The minimum step metric
(<code>min_step</code>) is used, which is the smallest distance between
any two adjacent colors (for any color vision deficiency type).
<ul>
<li><p><font size="4">☺</font> (colorblind friendly):
<code>min_step &gt;= 5</code></p></li>
<li>
<p><font size="4">👀</font> (colorblind unfriendly):
<code>min_dist &lt;= 1</code></p>
<p>Again, these numbers are parameters that can be changed via
<code>c4a_options</code>. Note that this metric is not very useful when
a continuous scale is used. In that case, it is recommended to analyse
the palette with say 7 or 9 colors.</p>
</li>
</ul>
</li>
<li>(<strong>diverging</strong>) The <code>min_step</code> metric used
in a similar way as for sequential palettes. In addition, the inter wing
distance metric (<code>inter_wing_dist</code>) is used, which is the
minimum color distance between any color in the left wing to any color
in the right wing of the palette (for any color vision deficiency type).
<ul>
<li><p><font size="4">☺</font> (colorblind friendly):
<code>min_step &gt;= 5</code> and
<code>inter_wing_dist &gt;= 10</code></p></li>
<li>
<p><font size="4">👀</font> (colorblind unfriendly):
<code>min_dist &lt;= 1</code> or
<code>inter_wing_dist &lt;= 4</code></p>
<p>These parameters can be changed via
<code>c4a_options</code>.</p>
</li>
</ul>
</li>
<li>(<strong>bivariate (seq x seq)</strong>) Three sequential palettes
are extracted: a) the first column, b) the bottom row, and c) the
diagonal. These are combined to form three diverging palettes: ab, ac,
and bc. For each of these diverging palette, the same checks are applied
as described above for regular diverging palettes.</li>
<li>(<strong>bivariate (seq x cat)</strong>) For each row, the same
checks apply as for a categorical palette</li>
<li>(<strong>bivariate (seq x div)</strong>) Three sequential palettes
are extracted: a) the first column, b) the middle column column, and c)
the last column. These are combined to form three diverging palettes:
ab, ac, and bc. For each of these diverging palette, the same checks are
applied as described above for regular diverging palettes.</li>
<li>(<strong>bivariate (seq x desaturated)</strong>) A diverging palette
is formed from the first and the last column. The same checks are
applied as described above for regular diverging palettes.</li>
</ul>
</div>
<div class="section level3">
<h3 id="hcl-analysis">HCL analysis<a class="anchor" aria-label="anchor" href="#hcl-analysis"></a>
</h3>
<p>Regarding the used <strong>hues</strong>, there is no simple good and
bad. However, for quantitative palettes we distinguish</p>
<ul>
<li>(<strong>sequential</strong>)
<ul>
<li>Single hue palettes (🖌) which are recommended for quantitative
analysis, but harder to distinguish colors</li>
<li>Spectral (🌈) which are easy to distinguish colors, but less
suitable for quantitative analysis</li>
</ul>
</li>
<li>(<strong>diverging</strong>)
<ul>
<li>Two-hue palettes (☯) each wing has its own distinct hue, which is
highly recommended</li>
<li>Spectral (🌈) which are easy to distinguish colors, but less
suitable for quantitative analysis</li>
</ul>
</li>
</ul>
<p>Regarding the used <strong>chroma</strong> /
<strong>vividness</strong>, we label a color palette</p>
<ul>
<li>
<strong>vivid</strong> (<font size="4">🕶</font>) if it contains a
color with a chroma value of 100 or higher</li>
<li>
<strong>pastel</strong> (<font size="4">❉</font>) if all colors have
chroma values of at most 70</li>
</ul>
<p>These threshold numbers can be configured via options (to do).</p>
<p>Pastel (low chroma) colors are recommended for <em>space-filling
visualizations</em>, like maps and bar charts. Vivid (high chroma)
colors for <em>small objects</em>, such as dots, lines, and text
labels.</p>
<p>We also use the <strong>chroma</strong> and
<strong>luminance</strong> values of palette colors to find out whether
some colors stand out more than other colors. Ideally, a categorical
palette should contain colors that stand out about equally (for
otherwise, one color will draw more attention than another, which may
bias our perception and interpretation of the shown data). Colors with a
high chroma value stand out more than less chromatic colors.
Furthermore, against a bright background, dark colors (low luminance)
stand out more, while bright colors (high luminance) stand out more
against a dark background. Luminance is only considered for categorical
palettes, because quantitative palettes (sequential and diverging) often
map a numeric variable to luminance.</p>
<p>Let us define the luminance range (<code>Lrange</code>) as the
maximum minus the minimum luminance value of the palette and the chroma
range (<code>Crange</code>) as the maximum chroma value minus the
minimum chroma value.</p>
<p>Regarding <strong>Fairness</strong> we consider two metrics: the
luminance range (<code>Lrange</code>) and the chroma range
(<code>Crange</code>). We call a palette:</p>
<ul>
<li>
<strong>fair</strong> (<font size="4">♡</font>) if
<code>Crange &lt;= 50</code> and (for categorical palettes only)
<code>Lrange &lt;= 30</code>
</li>
<li>
<strong>unfair</strong> (<font size="4">⨯</font>) if
<code>Crange &lt;= 80</code> or (for categorical palettes only)
<code>Lrange &gt;= 50</code>
</li>
</ul>
<p>Note that harmonic color palettes are usually not color blind
friendly. Furthermore, when the luminance values of the colors are about
equal, the contrast of those colors is low, which requires the use of
border lines (see below).</p>
</div>
<div class="section level3">
<h3 id="naming">Naming<a class="anchor" aria-label="anchor" href="#naming"></a>
</h3>
<p>This property is still in development. Details will follow.</p>
</div>
<div class="section level3">
<h3 id="contrast">Contrast<a class="anchor" aria-label="anchor" href="#contrast"></a>
</h3>
<p>The border between two colored shapes appears <strong>wobbly</strong>
when the colors are equally luminant (bright), no matter what hue (red,
blue, etc.) they have. This visual illusion is called
<strong>equiluminance</strong>.</p>
<p>The <strong>contrast ratio</strong> is a measure for equiluminance,
calculated as <code>CR = (L1 + 0.05) / (L2 + 0.05)</code>, where
<code>L1</code> and <code>L2</code> are the luminances (normalized
between 0 and 1) of the lighter and darker colors, respectively. Note
that the minimum contrast ratio is 1 and the maximum 21.</p>
<p>In the overview table, there are three flags that indicate low
contrast (<code>CR &lt; 1.2</code>):</p>
<ul>
<li>
<font size="1">🏁</font>: Between two colors of the palettes</li>
<li>
<font size="1">🏳</font>: Between one color of the palette and
white</li>
<li>
<font size="1">🏴</font>: Between one color of the palette and
black</li>
</ul>
<p>The go-to solution to prevent wobbly borders is by using black or
white (depending of the lightness of the colors) <strong>border
lines</strong>.</p>
</div>
<div class="section level3">
<h3 id="d-blues">3D Blues<a class="anchor" aria-label="anchor" href="#d-blues"></a>
</h3>
<p>Pure blue colors, by which we mean a 0 or very low number for the R
(red) and G (green) channels and a high number for the B (blue) channel
may cause a visual illusion called <strong>chromostereopsis</strong>.
This effect is especially prominent when blue objects are shown next to
red objects against a black background.</p>
<p>The table column “3D Blues” indicates when a palette contains a pure
blue color. The used symbol is B7#9 (which refers to a music chord used
in blues music).</p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Harrower M, Brewer CA (2003). “ColorBrewer.org: An Online Tool for
Selecting Colour Schemes for Maps.” <em>The Cartographic Journal</em>,
<em>40</em>(1), 27-37.</p>
<p>Hvitfeldt E. (2021). paletteer: Comprehensive Collection of Color
Palettes. version 1.3.0. <a href="https://github.com/EmilHvitfeldt/paletteer" class="external-link uri">https://github.com/EmilHvitfeldt/paletteer</a></p>
<p>Ware, C (2019). Information Visualization - Perception for Design -
4th Edition. Elsevier</p>
<p>Wright K (2021). <em>pals: Color Palettes, Colormaps, and Tools to
Evaluate Them</em>. R package version 1.7, <a href="https://CRAN.R-project.org/package=pals" class="external-link uri">https://CRAN.R-project.org/package=pals</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martijn Tennekes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
